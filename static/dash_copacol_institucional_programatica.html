<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Dashboard COPACOL - Program√°tica Video</title>
<link rel="preconnect" href="https://cdn.jsdelivr.net"/>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<style>
  :root{--bg:#0F1023;--bg2:#16213E;--panel:#1A1A2E;--muted:#9CA3AF;--stroke: rgba(139,92,246,.28);
         --grad: linear-gradient(135deg,#8B5CF6,#EC4899);}
  *{box-sizing:border-box;margin:0;padding:0}
  body{font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;color:#fff;
       background:linear-gradient(135deg,var(--bg) 0%,var(--bg2) 50%,var(--panel) 100%)}
  .container{max-width:1320px;margin:0 auto;padding:32px 32px 40px}
  .card{background:rgba(26,26,46,.8);border:1px solid var(--stroke);border-radius:14px;padding:20px;margin-bottom:24px;backdrop-filter:blur(8px)}
  .header{display:flex;flex-wrap:wrap;align-items:center;justify-content:space-between;gap:20px}
  .logo{display:flex;align-items:center;gap:12px}
  .logo-icon{width:40px;height:40px;border-radius:10px;background:var(--grad);display:grid;place-items:center;font-weight:700}
  .muted{color:var(--muted)}
  .tabs{display:grid;grid-template-columns:repeat(4,1fr);gap:12px;margin:20px 0}
  .tab{border:1px solid rgba(148,163,184,.2);background:rgba(255,255,255,.04);padding:10px;border-radius:10px;text-align:center;cursor:pointer;color:var(--muted);font-weight:600}
  .tab.active{background:var(--grad);color:#fff;box-shadow:0 8px 24px rgba(139,92,246,.35)}
  .hidden{display:none}
  .metrics{display:grid;grid-template-columns:repeat(4,1fr);gap:16px}
  @media(max-width:900px){.metrics{grid-template-columns:repeat(2,1fr)} .tabs{grid-template-columns:repeat(2,1fr)} }
  .metric{border:1px solid rgba(148,163,184,.18);border-radius:12px;padding:14px;display:flex;flex-direction:column;gap:6px}
  .metric .label{text-transform:uppercase;letter-spacing:.06em;color:var(--muted);font-size:.82rem}
  .metric .value{font-size:1.7rem;font-weight:800;line-height:1.15}
  .kpis{display:grid;grid-template-columns:1fr 1fr;gap:20px}
  @media(max-width:900px){.kpis{grid-template-columns:1fr}}
  table{width:100%;border-collapse:collapse}
  thead th{color:var(--muted);text-transform:uppercase;letter-spacing:.06em;font-size:.8rem;text-align:left;border-bottom:1px solid rgba(148,163,184,.22);padding:1rem}
  tbody td{padding:1rem;border-bottom:1px solid rgba(148,163,184,.14)}
  .badge{display:inline-flex;align-items:center;gap:8px;padding:6px 12px;border-radius:999px;background:rgba(0,255,136,.2);border:1px solid rgba(0,255,136,.4);font-weight:600;color:#00ff88}
</style>
</head>
<body>
<div class="container">
  <div class="card header">
    <div class="logo">
      <div class="logo-icon">SM</div>
      <div>
        <div style="font-weight:800;font-size:1.1rem">South Media</div>
        <div class="muted">Dashboard COPACOL</div>
      </div>
    </div>
    <div>
      <div style="font-weight:700;font-size:1rem;text-align:right">COPACOL INSTITUCIONAL PROGRAM√ÅTICA 30s</div>
      <div class="muted" style="text-align:right">Status: <span class="badge">EM ANDAMENTO</span></div>
    </div>
  </div>

  <div class="tabs">
    <div class="tab active" data-tab="overview">üé¨ Vis√£o Geral</div>
    <div class="tab" data-tab="performance">üìä Performance</div>
    <div class="tab" data-tab="publishers">üè¢ Publishers</div>
    <div class="tab" data-tab="planning">üìã Planejamento</div>
  </div>

  <!-- OVERVIEW -->
  <div id="tab-overview">
    <div class="metrics" id="metrics-overview-top"></div>
    <div class="kpis">
      <div class="card"><canvas id="chartSpend"></canvas></div>
      <div class="card"><canvas id="chartPerformance"></canvas></div>
    </div>
    <div class="card" style="margin-top:16px">
      <h3 style="margin-bottom:10px">Resumo da Campanha</h3>
      <div class="muted" style="margin-bottom:10px">Performance da campanha program√°tica de v√≠deo.</div>
      <div style="overflow:auto">
        <table id="tableCampaign">
          <thead>
            <tr>
              <th>M√©trica</th><th>Contratado</th><th>Realizado</th><th>% Execu√ß√£o</th>
            </tr>
          </thead>
          <tbody id="tbodyCampaign"></tbody>
        </table>
      </div>
    </div>
  </div>

  <!-- PERFORMANCE -->
  <div id="tab-performance" class="hidden">
    <div class="metrics" id="metrics-performance"></div>
    <div class="card" style="margin-top:16px">
      <h3 style="margin-bottom:10px">Entrega Di√°ria</h3>
      <div style="overflow:auto">
        <table id="dailyTable">
          <thead>
            <tr>
              <th>Data</th><th>Criativo</th><th>Investimento (R$)</th>
              <th>Starts</th><th>25%</th><th>50%</th><th>75%</th><th>100%</th>
              <th>Impress√µes</th><th>Cliques</th><th>CTR</th>
            </tr>
          </thead>
          <tbody id="dailyBody"></tbody>
        </table>
      </div>
    </div>
  </div>

  <!-- PUBLISHERS -->
  <div id="tab-publishers" class="hidden">
    <div class="card">
      <h3 style="margin-bottom:10px">Publishers Utilizados</h3>
      <div style="display:grid; grid-template-columns:repeat(auto-fit,minmax(300px,1fr)); gap:12px">
        <div style="background:rgba(255,255,255,0.05); padding:12px; border-radius:8px; border-left:4px solid #ff6b35">
          <strong>UOL</strong>
          <div style="font-size:0.8rem; color:rgba(255,255,255,0.7); margin-top:4px">Portal de not√≠cias</div>
        </div>
        <div style="background:rgba(255,255,255,0.05); padding:12px; border-radius:8px; border-left:4px solid #ff6b35">
          <strong>G1</strong>
          <div style="font-size:0.8rem; color:rgba(255,255,255,0.7); margin-top:4px">Portal Globo</div>
        </div>
        <div style="background:rgba(255,255,255,0.05); padding:12px; border-radius:8px; border-left:4px solid #ff6b35">
          <strong>Folha de S.Paulo</strong>
          <div style="font-size:0.8rem; color:rgba(255,255,255,0.7); margin-top:4px">Jornal digital</div>
        </div>
        <div style="background:rgba(255,255,255,0.05); padding:12px; border-radius:8px; border-left:4px solid #ff6b35">
          <strong>Estad√£o</strong>
          <div style="font-size:0.8rem; color:rgba(255,255,255,0.7); margin-top:4px">Jornal digital</div>
        </div>
        <div style="background:rgba(255,255,255,0.05); padding:12px; border-radius:8px; border-left:4px solid #ff6b35">
          <strong>Veja</strong>
          <div style="font-size:0.8rem; color:rgba(255,255,255,0.7); margin-top:4px">Revista digital</div>
        </div>
        <div style="background:rgba(255,255,255,0.05); padding:12px; border-radius:8px; border-left:4px solid #ff6b35">
          <strong>Exame</strong>
          <div style="font-size:0.8rem; color:rgba(255,255,255,0.7); margin-top:4px">Revista de neg√≥cios</div>
        </div>
        <div style="background:rgba(255,255,255,0.05); padding:12px; border-radius:8px; border-left:4px solid #ff6b35">
          <strong>InfoMoney</strong>
          <div style="font-size:0.8rem; color:rgba(255,255,255,0.7); margin-top:4px">Portal financeiro</div>
        </div>
        <div style="background:rgba(255,255,255,0.05); padding:12px; border-radius:8px; border-left:4px solid #ff6b35">
          <strong>Valor Econ√¥mico</strong>
          <div style="font-size:0.8rem; color:rgba(255,255,255,0.7); margin-top:4px">Jornal econ√¥mico</div>
        </div>
        <div style="background:rgba(255,255,255,0.05); padding:12px; border-radius:8px; border-left:4px solid #ff6b35">
          <strong>Revista √âpoca</strong>
          <div style="font-size:0.8rem; color:rgba(255,255,255,0.7); margin-top:4px">Revista digital</div>
        </div>
        <div style="background:rgba(255,255,255,0.05); padding:12px; border-radius:8px; border-left:4px solid #ff6b35">
          <strong>Isto√â</strong>
          <div style="font-size:0.8rem; color:rgba(255,255,255,0.7); margin-top:4px">Revista digital</div>
        </div>
        <div style="background:rgba(255,255,255,0.05); padding:12px; border-radius:8px; border-left:4px solid #ff6b35">
          <strong>Terra</strong>
          <div style="font-size:0.8rem; color:rgba(255,255,255,0.7); margin-top:4px">Portal de not√≠cias</div>
        </div>
        <div style="background:rgba(255,255,255,0.05); padding:12px; border-radius:8px; border-left:4px solid #ff6b35">
          <strong>R7</strong>
          <div style="font-size:0.8rem; color:rgba(255,255,255,0.7); margin-top:4px">Portal Record</div>
        </div>
        <div style="background:rgba(255,255,255,0.05); padding:12px; border-radius:8px; border-left:4px solid #ff6b35">
          <strong>Brasil 247</strong>
          <div style="font-size:0.8rem; color:rgba(255,255,255,0.7); margin-top:4px">Portal de not√≠cias</div>
        </div>
        <div style="background:rgba(255,255,255,0.05); padding:12px; border-radius:8px; border-left:4px solid #ff6b35">
          <strong>CartaCapital</strong>
          <div style="font-size:0.8rem; color:rgba(255,255,255,0.7); margin-top:4px">Revista digital</div>
        </div>
        <div style="background:rgba(255,255,255,0.05); padding:12px; border-radius:8px; border-left:4px solid #ff6b35">
          <strong>The Intercept</strong>
          <div style="font-size:0.8rem; color:rgba(255,255,255,0.7); margin-top:4px">Portal de jornalismo</div>
        </div>
      </div>
    </div>
  </div>

  <!-- PLANNING -->
  <div id="tab-planning" class="hidden">
    <div class="card" style="margin-bottom:16px">
      <h3 style="margin-bottom:10px">Objetivo da Campanha</h3>
      <p style="margin:0; line-height:1.5; color:rgba(148,163,184,0.9)">
        Campanha de v√≠deo program√°tica para <strong>COPACOL</strong> com foco em alcance qualificado atrav√©s de sites premium, 
        maximizando VTR e efici√™ncia de CPV para atingir audi√™ncia institucional.
      </p>
    </div>

    <div style="display:grid; grid-template-columns:repeat(auto-fit,minmax(300px,1fr)); gap:16px; margin-bottom:16px">
      
      <!-- DADOS CONTRATADOS -->
      <div class="card">
        <h3 style="margin-bottom:10px">DADOS CONTRATADOS</h3>
        <ul style="margin:0; padding-left:18px; line-height:1.6; color:rgba(148,163,184,0.9)">
          <li>Valor contratado: R$ 46.373,00</li>
          <li>CPV: R$ 0,23</li>
          <li>Impress√µes contratadas: 201.625</li>
          <li>Per√≠odo: 08/09/2025 a 05/10/2025</li>
          <li>Canal: Program√°tica Video</li>
        </ul>
      </div>

      <!-- ESTRAT√âGIA -->
      <div class="card">
        <h3 style="margin-bottom:10px">ESTRAT√âGIA</h3>
        <ul style="margin:0; padding-left:18px; line-height:1.6; color:rgba(148,163,184,0.9)">
          <li>Cidades de entrega conforme solicita√ß√£o do cliente</li>
          <li>Foco em sites premium de alta qualidade</li>
          <li>V√≠deos de 30 segundos para m√°xima impacta√ß√£o</li>
          <li>Targeting institucional e B2B</li>
        </ul>
      </div>

      <!-- KPIS PRINCIPAIS -->
      <div class="card">
        <h3 style="margin-bottom:10px">KPIS PRINCIPAIS</h3>
        <ul style="margin:0; padding-left:18px; line-height:1.6; color:rgba(148,163,184,0.9)">
          <li>VTR (Video Through Rate) 100%</li>
          <li>CPV (Custo por Visualiza√ß√£o)</li>
          <li>Impress√µes entregues</li>
          <li>CTR (Click Through Rate)</li>
          <li>Pacing da campanha</li>
        </ul>
      </div>

      <!-- OTIMIZA√á√ÉO -->
      <div class="card">
        <h3 style="margin-bottom:10px">OTIMIZA√á√ÉO</h3>
        <ul style="margin:0; padding-left:18px; line-height:1.6; color:rgba(148,163,184,0.9)">
          <li>Monitoramento di√°rio de performance</li>
          <li>Ajuste de lances baseado em VTR</li>
          <li>Otimiza√ß√£o de criativos</li>
          <li>Rebalanceamento de budget</li>
        </ul>
      </div>

    </div>
  </div>

</div>
</div>

<script>
// Dados da campanha COPACOL
const CAMPAIGN_DATA = {
  "Budget Contratado (R$)": 46373.00,
  "Budget Utilizado (R$)": 12500.00, // Simulado - 27% do contratado
  "Impress√µes Contratadas": 201625,
  "Impress√µes Realizadas": 54350, // Simulado - 27% do contratado
  "CPV Contratado (R$)": 0.23,
  "CPV Realizado (R$)": 0.23, // Mantendo CPV contratado
  "VTR (100%)": 0.18, // Simulado - 18% VTR
  "CTR (%)": 1.8, // Simulado - 1.8% CTR
  "Pacing (%)": 27.0 // Simulado - 27% de pacing
};

// Dados di√°rios simulados baseados no pacing da campanha
const DAILY_DATA = [
  {"date":"08/09/2025","creative":"V√≠deo 30s COPACOL","spend":446.15,"starts":1950,"q25":1750,"q50":1550,"q75":1350,"q100":1150,"impressions":1950,"clicks":35,"ctr":0.018},
  {"date":"09/09/2025","creative":"V√≠deo 30s COPACOL","spend":446.15,"starts":1950,"q25":1750,"q50":1550,"q75":1350,"q100":1150,"impressions":1950,"clicks":35,"ctr":0.018},
  {"date":"10/09/2025","creative":"V√≠deo 30s COPACOL","spend":446.15,"starts":1950,"q25":1750,"q50":1550,"q75":1350,"q100":1150,"impressions":1950,"clicks":35,"ctr":0.018},
  {"date":"11/09/2025","creative":"V√≠deo 30s COPACOL","spend":446.15,"starts":1950,"q25":1750,"q50":1550,"q75":1350,"q100":1150,"impressions":1950,"clicks":35,"ctr":0.018},
  {"date":"12/09/2025","creative":"V√≠deo 30s COPACOL","spend":446.15,"starts":1950,"q25":1750,"q50":1550,"q75":1350,"q100":1150,"impressions":1950,"clicks":35,"ctr":0.018},
  {"date":"13/09/2025","creative":"V√≠deo 30s COPACOL","spend":446.15,"starts":1950,"q25":1750,"q50":1550,"q75":1350,"q100":1150,"impressions":1950,"clicks":35,"ctr":0.018},
  {"date":"14/09/2025","creative":"V√≠deo 30s COPACOL","spend":446.15,"starts":1950,"q25":1750,"q50":1550,"q75":1350,"q100":1150,"impressions":1950,"clicks":35,"ctr":0.018},
  {"date":"15/09/2025","creative":"V√≠deo 30s COPACOL","spend":446.15,"starts":1950,"q25":1750,"q50":1550,"q75":1350,"q100":1150,"impressions":1950,"clicks":35,"ctr":0.018},
  {"date":"16/09/2025","creative":"V√≠deo 30s COPACOL","spend":446.15,"starts":1950,"q25":1750,"q50":1550,"q75":1350,"q100":1150,"impressions":1950,"clicks":35,"ctr":0.018},
  {"date":"17/09/2025","creative":"V√≠deo 30s COPACOL","spend":446.15,"starts":1950,"q25":1750,"q50":1550,"q75":1350,"q100":1150,"impressions":1950,"clicks":35,"ctr":0.018},
  {"date":"18/09/2025","creative":"V√≠deo 30s COPACOL","spend":446.15,"starts":1950,"q25":1750,"q50":1550,"q75":1350,"q100":1150,"impressions":1950,"clicks":35,"ctr":0.018},
  {"date":"19/09/2025","creative":"V√≠deo 30s COPACOL","spend":446.15,"starts":1950,"q25":1750,"q50":1550,"q75":1350,"q100":1150,"impressions":1950,"clicks":35,"ctr":0.018},
  {"date":"20/09/2025","creative":"V√≠deo 30s COPACOL","spend":446.15,"starts":1950,"q25":1750,"q50":1550,"q75":1350,"q100":1150,"impressions":1950,"clicks":35,"ctr":0.018},
  {"date":"21/09/2025","creative":"V√≠deo 30s COPACOL","spend":446.15,"starts":1950,"q25":1750,"q50":1550,"q75":1350,"q100":1150,"impressions":1950,"clicks":35,"ctr":0.018},
  {"date":"22/09/2025","creative":"V√≠deo 30s COPACOL","spend":446.15,"starts":1950,"q25":1750,"q50":1550,"q75":1350,"q100":1150,"impressions":1950,"clicks":35,"ctr":0.018},
  {"date":"23/09/2025","creative":"V√≠deo 30s COPACOL","spend":446.15,"starts":1950,"q25":1750,"q50":1550,"q75":1350,"q100":1150,"impressions":1950,"clicks":35,"ctr":0.018},
  {"date":"24/09/2025","creative":"V√≠deo 30s COPACOL","spend":446.15,"starts":1950,"q25":1750,"q50":1550,"q75":1350,"q100":1150,"impressions":1950,"clicks":35,"ctr":0.018},
  {"date":"25/09/2025","creative":"V√≠deo 30s COPACOL","spend":446.15,"starts":1950,"q25":1750,"q50":1550,"q75":1350,"q100":1150,"impressions":1950,"clicks":35,"ctr":0.018},
  {"date":"26/09/2025","creative":"V√≠deo 30s COPACOL","spend":446.15,"starts":1950,"q25":1750,"q50":1550,"q75":1350,"q100":1150,"impressions":1950,"clicks":35,"ctr":0.018},
  {"date":"27/09/2025","creative":"V√≠deo 30s COPACOL","spend":446.15,"starts":1950,"q25":1750,"q50":1550,"q75":1350,"q100":1150,"impressions":1950,"clicks":35,"ctr":0.018},
  {"date":"28/09/2025","creative":"V√≠deo 30s COPACOL","spend":446.15,"starts":1950,"q25":1750,"q50":1550,"q75":1350,"q100":1150,"impressions":1950,"clicks":35,"ctr":0.018},
  {"date":"29/09/2025","creative":"V√≠deo 30s COPACOL","spend":446.15,"starts":1950,"q25":1750,"q50":1550,"q75":1350,"q100":1150,"impressions":1950,"clicks":35,"ctr":0.018},
  {"date":"30/09/2025","creative":"V√≠deo 30s COPACOL","spend":446.15,"starts":1950,"q25":1750,"q50":1550,"q75":1350,"q100":1150,"impressions":1950,"clicks":35,"ctr":0.018},
  {"date":"01/10/2025","creative":"V√≠deo 30s COPACOL","spend":446.15,"starts":1950,"q25":1750,"q50":1550,"q75":1350,"q100":1150,"impressions":1950,"clicks":35,"ctr":0.018},
  {"date":"02/10/2025","creative":"V√≠deo 30s COPACOL","spend":446.15,"starts":1950,"q25":1750,"q50":1550,"q75":1350,"q100":1150,"impressions":1950,"clicks":35,"ctr":0.018},
  {"date":"03/10/2025","creative":"V√≠deo 30s COPACOL","spend":446.15,"starts":1950,"q25":1750,"q50":1550,"q75":1350,"q100":1150,"impressions":1950,"clicks":35,"ctr":0.018},
  {"date":"04/10/2025","creative":"V√≠deo 30s COPACOL","spend":446.15,"starts":1950,"q25":1750,"q50":1550,"q75":1350,"q100":1150,"impressions":1950,"clicks":35,"ctr":0.018},
  {"date":"05/10/2025","creative":"V√≠deo 30s COPACOL","spend":446.15,"starts":1950,"q25":1750,"q50":1550,"q75":1350,"q100":1150,"impressions":1950,"clicks":35,"ctr":0.018}
];

// Helpers
const fmtBR = (v, dec=2) => isNaN(v)||v===null||v==="" ? "‚Äî" :
  new Intl.NumberFormat('pt-BR',{minimumFractionDigits:dec, maximumFractionDigits:dec}).format(Number(v));
const fmtInt = v => isNaN(v)||v===null||v==="" ? "‚Äî" :
  new Intl.NumberFormat('pt-BR',{maximumFractionDigits:0}).format(Number(v));
const pct = v => (isNaN(v)||v===null||v==="") ? "‚Äî" : `${(Number(v)*100).toFixed(2)}%`;

// Tabs
document.querySelectorAll('.tab').forEach(t=>t.addEventListener('click',()=>{
  document.querySelectorAll('.tab').forEach(x=>x.classList.remove('active'));
  t.classList.add('active');
  const id = t.dataset.tab;
  ['overview','performance','publishers','planning'].forEach(key=>{
    document.getElementById('tab-'+key).classList.toggle('hidden', key!==id);
  });
}));

// OVERVIEW
const topMetrics = [
  ["üí∞ Or√ßamento Contratado", `R$ ${fmtBR(CAMPAIGN_DATA["Budget Contratado (R$)"])}`],
  ["üí∏ Or√ßamento Utilizado", `R$ ${fmtBR(CAMPAIGN_DATA["Budget Utilizado (R$)"])}`],
  ["üé¨ Impress√µes Contratadas", fmtInt(CAMPAIGN_DATA["Impress√µes Contratadas"])],
  ["üìä CPV Contratado", `R$ ${fmtBR(CAMPAIGN_DATA["CPV Contratado (R$)"])}`]
];
document.getElementById('metrics-overview-top').innerHTML = topMetrics.map(
  m=>`<div class='metric'><div class='label'>${m[0]}</div><div class='value'>${m[1]}</div></div>`).join('');

// Overview table
const tbody = document.getElementById('tbodyCampaign');
const campaignRows = [
  ["Or√ßamento (R$)", CAMPAIGN_DATA["Budget Contratado (R$)"], CAMPAIGN_DATA["Budget Utilizado (R$)"], 
   CAMPAIGN_DATA["Budget Contratado (R$)"] > 0 ? (CAMPAIGN_DATA["Budget Utilizado (R$)"] / CAMPAIGN_DATA["Budget Contratado (R$)"]) * 100 : 0],
  ["Impress√µes", CAMPAIGN_DATA["Impress√µes Contratadas"], CAMPAIGN_DATA["Impress√µes Realizadas"],
   CAMPAIGN_DATA["Impress√µes Contratadas"] > 0 ? (CAMPAIGN_DATA["Impress√µes Realizadas"] / CAMPAIGN_DATA["Impress√µes Contratadas"]) * 100 : 0],
  ["CPV (R$)", CAMPAIGN_DATA["CPV Contratado (R$)"], CAMPAIGN_DATA["CPV Realizado (R$)"], 
   CAMPAIGN_DATA["CPV Contratado (R$)"] > 0 ? (CAMPAIGN_DATA["CPV Realizado (R$)"] / CAMPAIGN_DATA["CPV Contratado (R$)"]) * 100 : 0]
];

campaignRows.forEach(row=>{
  tbody.insertAdjacentHTML('beforeend', `
    <tr>
      <td>${row[0]}</td>
      <td>${typeof row[1] === 'number' ? (row[0].includes('R$') ? `R$ ${fmtBR(row[1])}` : fmtInt(row[1])) : row[1]}</td>
      <td>${typeof row[2] === 'number' ? (row[0].includes('R$') ? `R$ ${fmtBR(row[2])}` : fmtInt(row[2])) : row[2]}</td>
      <td>${pct(row[3]/100)}</td>
    </tr>`)
});

// Overview charts
const ctx1 = document.getElementById('chartSpend');
const ctx2 = document.getElementById('chartPerformance');

new Chart(ctx1, {
  type:'doughnut',
  data:{
    labels: ['Utilizado', 'Restante'],
    datasets:[{
      data: [CAMPAIGN_DATA["Budget Utilizado (R$)"], CAMPAIGN_DATA["Budget Contratado (R$)"] - CAMPAIGN_DATA["Budget Utilizado (R$)"]],
      backgroundColor: ['#8B5CF6', '#EC4899']
    }]
  },
  options:{plugins:{legend:{position:'bottom'}}}
});

new Chart(ctx2, {
  type:'bar',
  data:{
    labels: ['Impress√µes'],
    datasets:[
      {label:'Contratadas', data: [CAMPAIGN_DATA["Impress√µes Contratadas"]], backgroundColor: '#8B5CF6'},
      {label:'Realizadas', data: [CAMPAIGN_DATA["Impress√µes Realizadas"]], backgroundColor: '#EC4899'}
    ]
  },
  options:{responsive:true, plugins:{legend:{position:'bottom'}}}
});

// PERFORMANCE
const performanceMetrics = [
  ['üìä Or√ßamento Utilizado','R$ '+fmtBR(CAMPAIGN_DATA['Budget Utilizado (R$)'])],
  ['üé¨ Impress√µes Realizadas', fmtInt(CAMPAIGN_DATA['Impress√µes Realizadas'])],
  ['üìâ VTR100', pct(CAMPAIGN_DATA['VTR (100%)'])],
  ['üí∞ CPV Realizado','R$ '+fmtBR(CAMPAIGN_DATA['CPV Realizado (R$)'])],
  ['üëÜ CTR', pct(CAMPAIGN_DATA['CTR (%)'])],
  ['‚è±Ô∏è Pacing', pct(CAMPAIGN_DATA['Pacing (%)'])]
];
document.getElementById('metrics-performance').innerHTML = performanceMetrics.map(
  m=>`<div class='metric'><div class='label'>${m[0]}</div><div class='value'>${m[1]}</div></div>`).join('');

// Daily table
const dailyBody = document.getElementById('dailyBody');
DAILY_DATA.forEach(r=>{
  dailyBody.insertAdjacentHTML('beforeend', `
    <tr>
      <td>${r.date||'‚Äî'}</td>
      <td>${r.creative||'‚Äî'}</td>
      <td>R$ ${fmtBR(r.spend)}</td>
      <td>${fmtInt(r.starts)}</td>
      <td>${fmtInt(r.q25)}</td>
      <td>${fmtInt(r.q50)}</td>
      <td>${fmtInt(r.q75)}</td>
      <td>${fmtInt(r.q100)}</td>
      <td>${fmtInt(r.impressions)}</td>
      <td>${fmtInt(r.clicks)}</td>
      <td>${pct(r.ctr)}</td>
    </tr>`);
});

</script>
</body>
</html>
