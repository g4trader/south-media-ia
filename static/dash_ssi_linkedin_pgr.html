<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Dashboard SSI - LinkedIn PGR</title>
<link rel="preconnect" href="https://cdn.jsdelivr.net"/>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script>
// ==== DADOS DA CAMPANHA ====
const CAMPAIGN_DATA = {
  "campaign_name": "SSI - Linkedin - PGR",
  "channel": "Linkedin",
  "period": "01/09/2025 a 30/10/2025",
  "budget_contracted": 12000.00,
  "budget_used": 8500.00,
  "cpm": 36.00,
  "impressions_contracted": 333333,
  "impressions_delivered": 245000,
  "strategy": "Praça: Paraná",
  "metrics": {
    "impressions": 245000,
    "clicks": 2450,
    "spend": 8500.00,
    "ctr": 1.0,
    "cpm": 34.69,
    "cpc": 3.47
  },
  "daily_data": [
    {
      "date": "01/09/2025",
      "creative": "SSI PGR - Carreira",
      "spend": 400.00,
      "impressions": 12000,
      "clicks": 120,
      "ctr": 1.0
    },
    {
      "date": "02/09/2025", 
      "creative": "SSI PGR - Carreira",
      "spend": 420.00,
      "impressions": 12500,
      "clicks": 125,
      "ctr": 1.0
    },
    {
      "date": "03/09/2025",
      "creative": "SSI PGR - Oportunidades",
      "spend": 380.00,
      "impressions": 11500,
      "clicks": 115,
      "ctr": 1.0
    },
    {
      "date": "04/09/2025",
      "creative": "SSI PGR - Oportunidades", 
      "spend": 450.00,
      "impressions": 13500,
      "clicks": 135,
      "ctr": 1.0
    },
    {
      "date": "05/09/2025",
      "creative": "SSI PGR - Carreira",
      "spend": 410.00,
      "impressions": 12200,
      "clicks": 122,
      "ctr": 1.0
    }
  ]
};

// ==== FUNÇÕES AUXILIARES ====
function fmtBR(val) {
  return new Intl.NumberFormat('pt-BR', { minimumFractionDigits: 2, maximumFractionDigits: 2 }).format(val || 0);
}

function fmtInt(val) {
  return new Intl.NumberFormat('pt-BR').format(val || 0);
}

function pct(val) {
  return new Intl.NumberFormat('pt-BR', { minimumFractionDigits: 1, maximumFractionDigits: 1 }).format(val || 0) + '%';
}

// ==== INSIGHTS LOGIC ====
(function(){
  const data = CAMPAIGN_DATA;
  
  // Pacing: Utilizado vs Contratado
  try {
    const ctx = document.getElementById('insPacing');
    if (ctx) {
      const contratado = data.budget_contracted;
      const utilizado = data.budget_used;
      new Chart(ctx, {
        type: 'bar',
        data: {
          labels: ['Pacing'],
          datasets: [
            { label: 'Contratado', data: [contratado], backgroundColor: '#8B5CF6' },
            { label: 'Utilizado', data: [utilizado], backgroundColor: '#EC4899' }
          ]
        },
        options: { 
          plugins:{legend:{position:'bottom'}}, 
          scales:{x:{stacked:true}, y:{stacked:true, beginAtZero: true}} 
        }
      });
    }
  } catch(e){}

  // Insights text
  try {
    const list = document.getElementById('insightsList');
    if (list) {
      const pacing = data.budget_contracted > 0 ? (data.budget_used / data.budget_contracted) : 0;
      const ctr = data.metrics.ctr;
      const cpm = data.metrics.cpm;
      const impressions = data.metrics.impressions;
      const clicks = data.metrics.clicks;

      const items = [];
      items.push(`📊 Pacing da campanha: <b>${(pacing*100).toFixed(1)}%</b> do orçamento já foi utilizado.`);
      items.push(`🎯 CTR atual: <b>${ctr.toFixed(2)}%</b> - acima da média do LinkedIn.`);
      items.push(`💰 CPM atual: <b>R$ ${cpm.toFixed(2)}</b> - dentro do target contratado.`);
      items.push(`📈 Impressões entregues: <b>${fmtInt(impressions)}</b> de ${fmtInt(data.impressions_contracted)} contratadas.`);
      items.push(`👆 Total de cliques: <b>${fmtInt(clicks)}</b> - engajamento positivo.`);

      list.innerHTML = items.map(t=>`<li>${t}</li>`).join("");
    }
  } catch(e){}
})();

</script>
<style>
  :root{--bg:#0F1023;--bg2:#16213E;--panel:#1A1A2E;--muted:#9CA3AF;--stroke: rgba(139,92,246,.28);
         --grad: linear-gradient(135deg,#8B5CF6,#EC4899);}
  *{box-sizing:border-box;margin:0;padding:0}
  body{font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;color:#fff;
       background:linear-gradient(135deg,var(--bg) 0%,var(--bg2) 50%,var(--panel) 100%)}
  .container{max-width:1320px;margin:0 auto;padding:32px 32px 40px}
  .card{background:rgba(26,26,46,.8);border:1px solid var(--stroke);border-radius:14px;padding:20px;margin-bottom:24px;backdrop-filter:blur(8px)}
  .header{display:flex;flex-wrap:wrap;align-items:center;justify-content:space-between;gap:20px}
  .logo{display:flex;align-items:center;gap:12px}
  .logo h1{font-size:1.5rem;font-weight:700;background:var(--grad);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}
  .nav{display:flex;gap:8px}
  .nav button{background:rgba(139,92,246,.1);border:1px solid rgba(139,92,236,.3);color:#fff;padding:8px 16px;border-radius:8px;font-size:.875rem;cursor:pointer;transition:all .2s}
  .nav button:hover{background:rgba(139,92,246,.2);border-color:rgba(139,92,236,.5)}
  .nav button.active{background:var(--grad);border-color:transparent}
  .metrics{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:16px;margin-bottom:24px}
  .metric{background:rgba(255,255,255,.05);border-radius:12px;padding:16px;text-align:center}
  .metric .label{font-size:.875rem;color:var(--muted);margin-bottom:8px}
  .metric .value{font-size:1.5rem;font-weight:700;color:#fff}
  .chart-container{position:relative;height:300px;margin:20px 0}
  .table-container{overflow-x:auto;margin:20px 0}
  table{width:100%;border-collapse:collapse;background:rgba(255,255,255,.05);border-radius:8px;overflow:hidden}
  th,td{padding:12px;text-align:left;border-bottom:1px solid rgba(255,255,255,.1)}
  th{background:rgba(139,92,246,.2);font-weight:600;color:#fff}
  td{color:var(--muted)}
  .insights{background:rgba(34,197,94,.1);border:1px solid rgba(34,197,94,.3);border-radius:12px;padding:20px;margin:20px 0}
  .insights h3{color:#22c55e;margin-bottom:16px}
  .insights ul{list-style:none;padding:0}
  .insights li{margin-bottom:8px;color:rgba(255,255,255,.9)}
  .strategy-card{background:rgba(255,107,53,.1);border:1px solid rgba(255,107,53,.3);border-radius:12px;padding:20px;margin:20px 0}
  .strategy-card h3{color:#ff6b35;margin-bottom:16px}
  .strategy-card ul{list-style:none;padding:0}
  .strategy-card li{margin-bottom:8px;color:rgba(255,255,255,.9)}
  .tab-content{display:none}
  .tab-content.active{display:block}
  .progress-bar{width:100%;height:8px;background:rgba(255,255,255,.1);border-radius:4px;overflow:hidden;margin:8px 0}
  .progress-fill{height:100%;background:var(--grad);transition:width .3s ease}
</style>
</head>
<body>
<div class="container">
  <!-- Header -->
  <div class="header">
    <div class="logo">
      <h1>📊 SSI - LinkedIn PGR</h1>
    </div>
    <div class="nav">
      <button class="active" onclick="showTab('overview')">📈 Overview</button>
      <button onclick="showTab('performance')">🎯 Performance</button>
      <button onclick="showTab('daily')">📅 Diário</button>
      <button onclick="showTab('strategy')">📋 Estratégia</button>
    </div>
  </div>

  <!-- Overview Tab -->
  <div id="overview" class="tab-content active">
    <!-- Métricas Principais -->
    <div class="metrics">
      <div class="metric">
        <div class="label">💰 Orçamento Contratado</div>
        <div class="value">R$ <span id="budgetContracted">12.000,00</span></div>
      </div>
      <div class="metric">
        <div class="label">💸 Orçamento Utilizado</div>
        <div class="value">R$ <span id="budgetUsed">8.500,00</span></div>
      </div>
      <div class="metric">
        <div class="label">📊 Pacing</div>
        <div class="value"><span id="pacing">70,8%</span></div>
        <div class="progress-bar">
          <div class="progress-fill" style="width: 70.8%"></div>
        </div>
      </div>
      <div class="metric">
        <div class="label">🖨️ Impressões Entregues</div>
        <div class="value"><span id="impressionsDelivered">245.000</span></div>
      </div>
      <div class="metric">
        <div class="label">👆 Total de Cliques</div>
        <div class="value"><span id="totalClicks">2.450</span></div>
      </div>
      <div class="metric">
        <div class="label">🎯 CTR</div>
        <div class="value"><span id="ctr">1,00%</span></div>
      </div>
      <div class="metric">
        <div class="label">💰 CPM</div>
        <div class="value">R$ <span id="cpm">34,69</span></div>
      </div>
      <div class="metric">
        <div class="label">💵 CPC</div>
        <div class="value">R$ <span id="cpc">3,47</span></div>
      </div>
    </div>

    <!-- Gráfico de Pacing -->
    <div class="card">
      <h3 style="margin-bottom:16px">📊 Pacing da Campanha</h3>
      <div class="chart-container">
        <canvas id="insPacing"></canvas>
      </div>
    </div>

    <!-- Insights -->
    <div class="insights">
      <h3>💡 Insights da Campanha</h3>
      <ul id="insightsList">
        <!-- Preenchido via JavaScript -->
      </ul>
    </div>
  </div>

  <!-- Performance Tab -->
  <div id="performance" class="tab-content">
    <div class="card">
      <h3 style="margin-bottom:16px">🎯 Performance do LinkedIn</h3>
      
      <!-- Métricas de Performance -->
      <div style="display:grid; grid-template-columns:repeat(auto-fit,minmax(200px,1fr)); gap:16px; margin-bottom:24px">
        <div style="background:rgba(255,255,255,0.05); padding:16px; border-radius:12px; text-align:center">
          <div style="font-size:1.5rem; font-weight:bold; color:#22c55e">1,00%</div>
          <div style="font-size:0.8rem; color:rgba(255,255,255,0.7)">CTR</div>
        </div>
        <div style="background:rgba(255,255,255,0.05); padding:16px; border-radius:12px; text-align:center">
          <div style="font-size:1.5rem; font-weight:bold; color:#22c55e">R$ 34,69</div>
          <div style="font-size:0.8rem; color:rgba(255,255,255,0.7)">CPM</div>
        </div>
        <div style="background:rgba(255,255,255,0.05); padding:16px; border-radius:12px; text-align:center">
          <div style="font-size:1.5rem; font-weight:bold; color:#22c55e">R$ 3,47</div>
          <div style="font-size:0.8rem; color:rgba(255,255,255,0.7)">CPC</div>
        </div>
        <div style="background:rgba(255,255,255,0.05); padding:16px; border-radius:12px; text-align:center">
          <div style="font-size:1.5rem; font-weight:bold; color:#22c55e">73,5%</div>
          <div style="font-size:0.8rem; color:rgba(255,255,255,0.7)">Entrega</div>
        </div>
      </div>

      <!-- Segmentação por Criativo -->
      <h4 style="color:#ff6b35; margin-bottom:16px">🎨 Performance por Criativo</h4>
      <div style="display:grid; grid-template-columns:repeat(auto-fit,minmax(300px,1fr)); gap:16px">
        <div style="background:rgba(255,255,255,0.05); padding:16px; border-radius:12px; border-left:4px solid #ff6b35">
          <strong>SSI PGR - Carreira</strong>
          <div style="font-size:0.8rem; color:rgba(255,255,255,0.7); margin-top:8px">
            <div>Impressões: 36.700</div>
            <div>Cliques: 367</div>
            <div>CTR: 1,00%</div>
            <div>Gasto: R$ 1.230,00</div>
          </div>
        </div>
        <div style="background:rgba(255,255,255,0.05); padding:16px; border-radius:12px; border-left:4px solid #ff6b35">
          <strong>SSI PGR - Oportunidades</strong>
          <div style="font-size:0.8rem; color:rgba(255,255,255,0.7); margin-top:8px">
            <div>Impressões: 25.000</div>
            <div>Cliques: 250</div>
            <div>CTR: 1,00%</div>
            <div>Gasto: R$ 830,00</div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Daily Tab -->
  <div id="daily" class="tab-content">
    <div class="card">
      <h3 style="margin-bottom:16px">📅 Dados Diários</h3>
      <div class="table-container">
        <table>
          <thead>
            <tr>
              <th>Data</th>
              <th>Criativo</th>
              <th>Gasto (R$)</th>
              <th>Impressões</th>
              <th>Cliques</th>
              <th>CTR (%)</th>
              <th>CPM (R$)</th>
              <th>CPC (R$)</th>
            </tr>
          </thead>
          <tbody id="dailyTableBody">
            <!-- Preenchido via JavaScript -->
          </tbody>
        </table>
      </div>
    </div>
  </div>

  <!-- Strategy Tab -->
  <div id="strategy" class="tab-content">
    <div class="strategy-card">
      <h3>📋 Estratégia da Campanha</h3>
      <ul>
        <li><strong>Campanha:</strong> SSI - Linkedin - PGR</li>
        <li><strong>Canal:</strong> LinkedIn</li>
        <li><strong>Período:</strong> 01/09/2025 a 30/10/2025</li>
        <li><strong>Valor Contratado:</strong> R$ 12.000,00</li>
        <li><strong>CPM:</strong> R$ 36,00</li>
        <li><strong>Impressões Contratadas:</strong> 333.333</li>
        <li><strong>Estratégia:</strong> Praça: Paraná</li>
      </ul>
    </div>

    <!-- Grid de Cards de Estratégia -->
    <div style="display:grid; grid-template-columns:repeat(auto-fit,minmax(300px,1fr)); gap:16px; margin-bottom:16px">
      
      <!-- AUDIÊNCIA & GEOGRAFIA -->
      <div class="card">
        <h3 style="margin-bottom:10px">AUDIÊNCIA & GEOGRAFIA</h3>
        <ul style="margin:0; padding-left:18px; line-height:1.6; color:rgba(148,163,184,0.9)">
          <li>Praça: Paraná (PR)</li>
          <li>Faixa etária: 25-45 anos</li>
          <li>Interesses: carreira, desenvolvimento profissional, oportunidades</li>
          <li>Segmentação: profissionais ativos no LinkedIn</li>
        </ul>
      </div>

      <!-- CANAL & FORMATO -->
      <div class="card">
        <h3 style="margin-bottom:10px">CANAL & FORMATO</h3>
        <ul style="margin:0; padding-left:18px; line-height:1.6; color:rgba(148,163,184,0.9)">
          <li>LinkedIn: ambiente profissional premium</li>
          <li>Formato: Sponsored Content</li>
          <li>Posicionamento: feed principal e sidebar</li>
          <li>Foco: engajamento qualificado</li>
        </ul>
      </div>

      <!-- CRIAÇÃO & MENSAGEM -->
      <div class="card">
        <h3 style="margin-bottom:10px">CRIAÇÃO & MENSAGEM</h3>
        <ul style="margin:0; padding-left:18px; line-height:1.6; color:rgba(148,163,184,0.9)">
          <li>Criativos: Carreira e Oportunidades</li>
          <li>Mensagem: benefícios profissionais claros</li>
          <li>CTA: "Saiba mais" / "Candidate-se"</li>
          <li>Tom: profissional e inspirador</li>
        </ul>
      </div>

      <!-- KPIS & MÉTRICAS -->
      <div class="card">
        <h3 style="margin-bottom:10px">KPIS & MÉTRICAS</h3>
        <ul style="margin:0; padding-left:18px; line-height:1.6; color:rgba(148,163,184,0.9)">
          <li>CTR: meta > 0.8%</li>
          <li>CPM: meta R$ 36,00</li>
          <li>CPC: otimizar para < R$ 5,00</li>
          <li>Impressões: entregar 100% do contratado</li>
        </ul>
      </div>

      <!-- OTIMIZAÇÃO -->
      <div class="card">
        <h3 style="margin-bottom:10px">OTIMIZAÇÃO</h3>
        <ul style="margin:0; padding-left:18px; line-height:1.6; color:rgba(148,163,184,0.9)">
          <li>Ajustar lances baseado em performance</li>
          <li>Testar diferentes criativos</li>
          <li>Refinar segmentação por engajamento</li>
          <li>Monitorar frequência por usuário</li>
        </ul>
      </div>

      <!-- GOVERNANÇA -->
      <div class="card">
        <h3 style="margin-bottom:10px">GOVERNANÇA</h3>
        <ul style="margin:0; padding-left:18px; line-height:1.6; color:rgba(148,163,184,0.9)">
          <li>Brand safety: conteúdo profissional</li>
          <li>Frequência: máximo 3x por usuário</li>
          <li>Horários: horário comercial</li>
          <li>Exclusões: conteúdo sensível</li>
        </ul>
      </div>

    </div>

    <!-- Próximas Ações -->
    <div class="card">
      <h3 style="margin-bottom:10px">Próximas Ações</h3>
      <ul style="margin:0; padding-left:18px; line-height:1.6; color:rgba(148,163,184,0.9)">
        <li>Monitorar pacing para garantir entrega completa</li>
        <li>Testar novos criativos para melhorar CTR</li>
        <li>Refinar segmentação baseada em performance</li>
        <li>Otimizar lances para melhorar eficiência</li>
        <li>Analisar horários de maior engajamento</li>
      </ul>
    </div>
  </div>
</div>

<script>
// ==== FUNÇÕES DE NAVEGAÇÃO ====
function showTab(tabName) {
  // Esconder todas as abas
  const tabs = document.querySelectorAll('.tab-content');
  tabs.forEach(tab => tab.classList.remove('active'));
  
  // Remover classe active de todos os botões
  const buttons = document.querySelectorAll('.nav button');
  buttons.forEach(btn => btn.classList.remove('active'));
  
  // Mostrar aba selecionada
  document.getElementById(tabName).classList.add('active');
  
  // Adicionar classe active ao botão clicado
  event.target.classList.add('active');
}

// ==== CARREGAR DADOS ====
function loadData() {
  const data = CAMPAIGN_DATA;
  
  // Atualizar métricas principais
  document.getElementById('budgetContracted').textContent = fmtBR(data.budget_contracted);
  document.getElementById('budgetUsed').textContent = fmtBR(data.budget_used);
  document.getElementById('pacing').textContent = ((data.budget_used / data.budget_contracted) * 100).toFixed(1) + '%';
  document.getElementById('impressionsDelivered').textContent = fmtInt(data.metrics.impressions);
  document.getElementById('totalClicks').textContent = fmtInt(data.metrics.clicks);
  document.getElementById('ctr').textContent = data.metrics.ctr.toFixed(2) + '%';
  document.getElementById('cpm').textContent = fmtBR(data.metrics.cpm);
  document.getElementById('cpc').textContent = fmtBR(data.metrics.cpc);
  
  // Atualizar tabela diária
  const tbody = document.getElementById('dailyTableBody');
  tbody.innerHTML = '';
  
  data.daily_data.forEach(row => {
    const tr = document.createElement('tr');
    tr.innerHTML = `
      <td>${row.date}</td>
      <td>${row.creative}</td>
      <td>R$ ${fmtBR(row.spend)}</td>
      <td>${fmtInt(row.impressions)}</td>
      <td>${fmtInt(row.clicks)}</td>
      <td>${row.ctr.toFixed(2)}%</td>
      <td>R$ ${fmtBR((row.spend / row.impressions) * 1000)}</td>
      <td>R$ ${fmtBR(row.spend / row.clicks)}</td>
    `;
    tbody.appendChild(tr);
  });
}

// Carregar dados quando a página carregar
document.addEventListener('DOMContentLoaded', loadData);
</script>
</body>
</html>
