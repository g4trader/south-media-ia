<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>South Media - Dashboard de Campanhas de Vídeo</title>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        html {
            overflow-x: hidden;
            width: 100%;
        }
        
        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            background: linear-gradient(135deg, #0F0F23 0%, #16213E 50%, #1A1A2E 100%);
            color: white;
            min-height: 100vh;
            overflow-x: hidden;
            width: 100%;
            max-width: 100vw;
            position: relative;
        }
        
        .container {
            max-width: 100%;
            width: 100%;
            margin: 0 auto;
            padding: 1rem;
            box-sizing: border-box;
        }
        
        @media (min-width: 768px) {
            .container {
                max-width: 1200px;
                padding: 2rem;
            }
        }
        
        .card {
            background: rgba(26, 26, 46, 0.8);
            border: 1px solid rgba(139, 92, 246, 0.3);
            backdrop-filter: blur(10px);
            box-sizing: border-box;
            width: 100%;
            border-radius: 12px;
            margin-bottom: 1.5rem;
        }
        
        .header {
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
            margin-bottom: 1.5rem;
            padding: 1.5rem;
            box-sizing: border-box;
            width: 100%;
        }
        
        @media (min-width: 768px) {
            .header {
                flex-direction: row;
                justify-content: space-between;
                text-align: left;
                margin-bottom: 2rem;
            }
        }
        
        .logo {
            display: flex;
            align-items: center;
            margin-bottom: 1rem;
            justify-content: center;
            width: 100%;
        }
        
        @media (min-width: 768px) {
            .logo {
                margin-bottom: 0;
                justify-content: flex-start;
                width: auto;
            }
        }
        
        .logo-icon {
            width: 40px;
            height: 40px;
            background: linear-gradient(135deg, #8B5CF6, #EC4899);
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 16px;
            margin-right: 12px;
            flex-shrink: 0;
        }
        
        .logo-text h1 {
            font-size: 1.25rem;
            font-weight: bold;
            margin-bottom: 0.25rem;
        }
        
        .logo-text p {
            font-size: 0.875rem;
            color: #9CA3AF;
        }
        
        @media (min-width: 768px) {
            .logo-text h1 {
                font-size: 1.5rem;
            }
        }
        
        .campaign-info {
            text-align: center;
            width: 100%;
        }
        
        @media (min-width: 768px) {
            .campaign-info {
                text-align: right;
                width: auto;
            }
        }
        
        .campaign-title {
            font-size: 1.125rem;
            font-weight: bold;
            margin-bottom: 0.5rem;
        }
        
        @media (min-width: 768px) {
            .campaign-title {
                font-size: 1.5rem;
            }
        }
        
        .campaign-date {
            font-size: 0.875rem;
            color: #9CA3AF;
            margin-bottom: 0.75rem;
        }
        
        .status-badge {
            background: #10B981;
            color: white;
            padding: 0.5rem 1rem;
            border-radius: 20px;
            font-size: 0.75rem;
            font-weight: bold;
            display: inline-block;
        }
        
        .tabs {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 0.5rem;
            margin-bottom: 1.5rem;
            width: 100%;
            box-sizing: border-box;
        }
        
        @media (min-width: 640px) {
            .tabs {
                grid-template-columns: repeat(4, 1fr);
                gap: 0.75rem;
            }
        }
        
        .tab-button {
            padding: 0.75rem 0.5rem;
            border: none;
            border-radius: 10px;
            background: rgba(26, 26, 46, 0.6);
            color: #9CA3AF;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 0.75rem;
            text-align: center;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            box-sizing: border-box;
            width: 100%;
            min-height: 60px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            line-height: 1.2;
        }
        
        @media (min-width: 640px) {
            .tab-button {
                padding: 1rem;
                font-size: 0.875rem;
                min-height: 70px;
            }
        }
        
        .tab-button.active {
            background: linear-gradient(135deg, #8B5CF6, #EC4899);
            color: white;
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(139, 92, 246, 0.3);
        }
        
        .metrics-grid {
            display: grid;
            grid-template-columns: 1fr;
            gap: 1rem;
            margin-bottom: 1.5rem;
            width: 100%;
            box-sizing: border-box;
        }
        
        @media (min-width: 640px) {
            .metrics-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }
        
        @media (min-width: 1024px) {
            .metrics-grid {
                grid-template-columns: repeat(4, 1fr);
            }
        }
        
        .metric-card {
            padding: 1.25rem;
            box-sizing: border-box;
            width: 100%;
            border-radius: 12px;
        }
        
        @media (min-width: 768px) {
            .metric-card {
                padding: 1.5rem;
            }
        }
        
        .metric-value {
            font-size: 1.5rem;
            font-weight: bold;
            margin-bottom: 0.5rem;
            word-break: break-word;
        }
        
        @media (min-width: 768px) {
            .metric-value {
                font-size: 2rem;
            }
        }
        
        .metric-label {
            font-size: 0.75rem;
            color: #9CA3AF;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            line-height: 1.3;
        }
        
        @media (min-width: 768px) {
            .metric-label {
                font-size: 0.875rem;
            }
        }
        
        .charts-grid {
            display: grid;
            grid-template-columns: 1fr;
            gap: 1rem;
            margin-bottom: 1.5rem;
            width: 100%;
            box-sizing: border-box;
        }
        
        @media (min-width: 1024px) {
            .charts-grid {
                grid-template-columns: repeat(2, 1fr);
                gap: 2rem;
            }
        }
        
        .chart-container {
            position: relative;
            height: 200px;
            width: 100%;
            max-width: 100%;
            box-sizing: border-box;
            overflow: hidden;
        }
        
        @media (min-width: 768px) {
            .chart-container {
                height: 250px;
            }
        }
        
        /* Correção específica para gráficos no mobile */
        @media (max-width: 767px) {
            .chart-container {
                height: 180px;
                margin: 0;
                padding: 0;
            }
            
            .chart-container canvas {
                max-width: 100% !important;
                height: auto !important;
            }
        }
        
        .quartis-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 0.75rem;
            width: 100%;
            box-sizing: border-box;
        }
        
        @media (min-width: 768px) {
            .quartis-grid {
                grid-template-columns: repeat(4, 1fr);
                gap: 1rem;
            }
        }
        
        .quartil-item {
            text-align: center;
            padding: 1rem;
            box-sizing: border-box;
        }
        
        .circle-progress {
            width: 60px;
            height: 60px;
            margin: 0 auto 0.75rem;
            position: relative;
        }
        
        @media (min-width: 768px) {
            .circle-progress {
                width: 80px;
                height: 80px;
            }
        }
        
        .table-responsive {
            width: 100%;
            overflow-x: auto;
            box-sizing: border-box;
            -webkit-overflow-scrolling: touch;
        }
        
        .table-responsive table {
            min-width: 100%;
            font-size: 0.75rem;
            width: 100%;
            border-collapse: collapse;
        }
        
        @media (min-width: 768px) {
            .table-responsive table {
                font-size: 0.875rem;
            }
        }
        
        .table-responsive th,
        .table-responsive td {
            padding: 0.75rem 0.5rem;
            white-space: nowrap;
            text-align: left;
        }
        
        .planning-grid {
            display: grid;
            grid-template-columns: 1fr;
            gap: 1rem;
            width: 100%;
            box-sizing: border-box;
        }
        
        @media (min-width: 768px) {
            .planning-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }
        
        .audience-grid {
            display: grid;
            grid-template-columns: 1fr;
            gap: 0.75rem;
            width: 100%;
            box-sizing: border-box;
        }
        
        @media (min-width: 640px) {
            .audience-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }
        
        @media (min-width: 1024px) {
            .audience-grid {
                grid-template-columns: repeat(3, 1fr);
            }
        }
        
        .audience-item {
            padding: 0.875rem;
            border-radius: 8px;
            text-align: center;
            font-size: 0.75rem;
            font-weight: 500;
            box-sizing: border-box;
            width: 100%;
            word-break: break-word;
        }
        
        @media (min-width: 768px) {
            .audience-item {
                padding: 1rem;
                font-size: 0.875rem;
            }
        }
        
        .hidden {
            display: none;
        }
        
        .text-green-400 {
            color: #34D399;
        }
        
        .text-orange-400 {
            color: #FB923C;
        }
        
        .bg-blue-600 {
            background-color: #2563EB;
        }
        
        .bg-yellow-600 {
            background-color: #D97706;
        }
        
        .bg-pink-600 {
            background-color: #DB2777;
        }
        
        .bg-cyan-600 {
            background-color: #0891B2;
        }
        
        .bg-purple-600 {
            background-color: #9333EA;
        }
        
        .bg-green-600 {
            background-color: #059669;
        }
        
        .bg-red-600 {
            background-color: #DC2626;
        }
        
        .bg-gray-600 {
            background-color: #4B5563;
        }
        
        /* Ajustes específicos para mobile mantendo legibilidade */
        @media (max-width: 767px) {
            .container {
                padding: 0.75rem;
            }
            
            .card {
                margin-bottom: 1rem;
                padding: 0.75rem;
            }
            
            /* Padding específico para cards com gráficos */
            .charts-grid .card {
                padding: 0.5rem;
            }
            
            h3 {
                font-size: 1rem !important;
                margin-bottom: 0.75rem !important;
                line-height: 1.3 !important;
            }
            
            /* Mantém fontes legíveis no mobile */
            .metric-value {
                font-size: 1.25rem !important;
            }
            
            .metric-label {
                font-size: 0.7rem !important;
            }
            
            .tab-button {
                font-size: 0.7rem;
                min-height: 55px;
            }
            
            .circle-progress {
                width: 50px;
                height: 50px;
            }
            
            .table-responsive table {
                font-size: 0.7rem;
            }
            
            .table-responsive th,
            .table-responsive td {
                padding: 0.5rem 0.375rem;
            }
            
            .audience-item {
                font-size: 0.7rem;
                padding: 0.75rem;
            }
        }
        
        /* Ajustes para telas muito pequenas */
        @media (max-width: 480px) {
            .container {
                padding: 0.5rem;
            }
            
            .header {
                padding: 1rem;
            }
            
            .logo-icon {
                width: 35px;
                height: 35px;
                font-size: 14px;
            }
            
            .logo-text h1 {
                font-size: 1.1rem;
            }
            
            .logo-text p {
                font-size: 0.8rem;
            }
            
            .campaign-title {
                font-size: 1rem;
            }
            
            .campaign-date {
                font-size: 0.8rem;
            }
            
            .status-badge {
                font-size: 0.7rem;
                padding: 0.375rem 0.75rem;
            }
            
            /* Ajustes específicos para gráficos em telas muito pequenas */
            .charts-grid .card {
                padding: 0.375rem;
            }
            
            .chart-container {
                height: 160px;
            }
        }
    </style>
</head>
<body>
<div class="container">
<!-- Header -->
<div class="header card">
<div class="logo">
<div class="logo-icon">SM</div>
<div class="logo-text">
<h1>South Media</h1>
<p>Dashboard de Campanhas de Vídeo</p>
</div>
</div>
<div class="campaign-info">
<div class="campaign-title">UNIMED CAMPANHA DE VENDAS 2025</div>
<div class="campaign-date">15/08/2025 até 09/09/2025</div>
<span class="status-badge">EM ANDAMENTO</span>
</div>
</div>
<!-- Tabs -->
<div class="tabs">
<button class="tab-button active" onclick="showTab('overview', this)">
                🎬<br/>Visão<br/>Geral
            </button>
<button class="tab-button" onclick="showTab('insights', this)">
                📊<br/>Análise e<br/>Insights
            </button>
<button class="tab-button" onclick="showTab('daily', this)">
                📈<br/>Entrega<br/>Diária
            </button>
<button class="tab-button" onclick="showTab('planning', this)">
                📋<br/>Planejamento
            </button>
</div>
<!-- Tab Overview -->
<div class="tab-content" id="content-overview">
<!-- Métricas Principais -->
<div class="metrics-grid">
<div class="card metric-card">
<div class="metric-label">💰 ORÇAMENTO CONTRATADO</div><div class="metric-value">R$ 12.000,00</div>
</div>
<div class="card metric-card">
<div class="metric-label">🎬 VIDEO COMPLETION CONTRATADO</div><div class="metric-value">83.334</div>
</div>
<div class="card metric-card">
<div class="metric-label">📅 PERÍODO DA CAMPANHA</div><div class="metric-value">15/08 até 09/09</div>
</div>
<div class="card metric-card">
<div class="metric-label">🎯 OBJETIVO DA CAMPANHA</div><div class="metric-value">Alcance</div>
</div>
</div>
<!-- Métricas de Performance -->
<div class="metrics-grid">
<div class="card metric-card">
<div class="metric-label">💸 ORÇAMENTO UTILIZADO</div><div class="metric-value">R$ 23.805,30</div><div class="text-green-400" style="font-size: 0.875rem;">198.4% do contratado</div>
</div>
<div class="card metric-card">
<div class="metric-label">🎬 VIDEO COMPLETION</div><div class="metric-value">79.351</div><div class="text-green-400" style="font-size: 0.875rem;">95.2% do contratado</div>
</div>
<div class="card metric-card">
<div class="metric-label">👆 CLIQUES</div><div class="metric-value">n/a</div>
</div>
<div class="card metric-card">
<div class="metric-label">💰 CPV</div><div class="metric-value" style="display:flex;flex-direction:column;gap:6px;line-height:1.2;">R$ 0,30<span style="font-size:0.875rem; color:#9CA3AF;">CPV contratado: R$ 0,14</span></div>
</div>
</div>
<!-- Quartis Netflix -->
<div class="card" style="padding: 1.25rem; margin-bottom: 1.5rem;">
<h3 style="font-size: 1rem; font-weight: bold; color: white; margin-bottom: 1rem;">MÉTRICAS DE QUARTIS DE VÍDEO</h3>
<div class="quartis-grid">
<div class="quartil-item">
<div class="circle-progress">
<svg height="100%" viewbox="0 0 100 100" width="100%">
<circle cx="50" cy="50" fill="none" r="45" stroke="rgba(255,255,255,0.1)" stroke-width="8"></circle>
<circle cx="50" cy="50" fill="none" r="45" stroke="#8B5CF6" stroke-dasharray="283" stroke-dashoffset="10" stroke-width="8" transform="rotate(-90 50 50)"></circle>
<text fill="white" font-size="16" font-weight="bold" text-anchor="middle" x="50" y="55">99.7%</text>
</svg>
</div>
<div style="font-size: 0.75rem; color: #9CA3AF; margin-bottom: 0.25rem;">25% ASSISTIDOS</div><div style="font-size: 0.875rem; color: white; font-weight: bold;">80.419</div>
</div>
<div class="quartil-item">
<div class="circle-progress">
<svg height="100%" viewbox="0 0 100 100" width="100%">
<circle cx="50" cy="50" fill="none" r="45" stroke="rgba(255,255,255,0.1)" stroke-width="8"></circle>
<circle cx="50" cy="50" fill="none" r="45" stroke="#8B5CF6" stroke-dasharray="283" stroke-dashoffset="15" stroke-width="8" transform="rotate(-90 50 50)"></circle>
<text fill="white" font-size="16" font-weight="bold" text-anchor="middle" x="50" y="55">99.4%</text>
</svg>
</div>
<div style="font-size: 0.75rem; color: #9CA3AF; margin-bottom: 0.25rem;">50% ASSISTIDOS</div><div style="font-size: 0.875rem; color: white; font-weight: bold;">80.193</div>
</div>
<div class="quartil-item">
<div class="circle-progress">
<svg height="100%" viewbox="0 0 100 100" width="100%">
<circle cx="50" cy="50" fill="none" r="45" stroke="rgba(255,255,255,0.1)" stroke-width="8"></circle>
<circle cx="50" cy="50" fill="none" r="45" stroke="#8B5CF6" stroke-dasharray="283" stroke-dashoffset="19" stroke-width="8" transform="rotate(-90 50 50)"></circle>
<text fill="white" font-size="16" font-weight="bold" text-anchor="middle" x="50" y="55">99.1%</text>
</svg>
</div>
<div style="font-size: 0.75rem; color: #9CA3AF; margin-bottom: 0.25rem;">75% ASSISTIDOS</div><div style="font-size: 0.875rem; color: white; font-weight: bold;">79.952</div>
</div>
<div class="quartil-item">
<div class="circle-progress">
<svg height="100%" viewbox="0 0 100 100" width="100%">
<circle cx="50" cy="50" fill="none" r="45" stroke="rgba(255,255,255,0.1)" stroke-width="8"></circle>
<circle cx="50" cy="50" fill="none" r="45" stroke="#8B5CF6" stroke-dasharray="283" stroke-dashoffset="23" stroke-width="8" transform="rotate(-90 50 50)"></circle>
<text fill="white" font-size="16" font-weight="bold" text-anchor="middle" x="50" y="55">98.3%</text>
</svg>
</div>
<div style="font-size: 0.75rem; color: #9CA3AF; margin-bottom: 0.25rem;">100% ASSISTIDOS</div><div style="font-size: 0.875rem; color: white; font-weight: bold;">79.351</div>
</div>
</div>
</div>
<!-- Tabela de Estratégias -->
<div class="card" style="padding: 1.25rem;">
<h3 style="font-size: 1rem; font-weight: bold; color: white; margin-bottom: 1rem;">ESTRATÉGIAS</h3>
<div class="table-responsive">
<table id="strategyTable" style="width: 100%; border-collapse: collapse;">
<thead>
<tr style="border-bottom: 1px solid #374151;">
<th style="text-align: left; padding: 0.75rem 0.5rem; color: #9CA3AF; font-size: 0.75rem;">ESTRATÉGIA</th>
<th style="text-align: left; padding: 0.75rem 0.5rem; color: #9CA3AF; font-size: 0.75rem;">UTILIZADO</th>
<th style="text-align: left; padding: 0.75rem 0.5rem; color: #9CA3AF; font-size: 0.75rem;">VIDEO COMPLETION</th>
<th style="text-align: left; padding: 0.75rem 0.5rem; color: #9CA3AF; font-size: 0.75rem;">CLIQUES</th>
<th style="text-align: left; padding: 0.75rem 0.5rem; color: #9CA3AF; font-size: 0.75rem;">CTR</th>
<th style="text-align: left; padding: 0.75rem 0.5rem; color: #9CA3AF; font-size: 0.75rem;">CPV</th>
<th style="text-align: left; padding: 0.75rem 0.5rem; color: #9CA3AF; font-size: 0.75rem;">VTR</th>
</tr>
</thead>
<tbody><tr style="border-bottom: 1px solid #374151;"><td style="padding: 0.75rem 0.5rem; color: white; font-size: 0.75rem;"><div style="display:flex; align-items:center;"><div style="width: 8px; height: 8px; background: #FB923C; border-radius: 50%; margin-right: 0.5rem;"></div>Netflix</div></td><td style="padding: 0.75rem 0.5rem; color: white; font-size: 0.75rem;">R$ 23.805,30</td><td style="padding: 0.75rem 0.5rem; color: white; font-size: 0.75rem;">79.351</td><td style="padding: 0.75rem 0.5rem; color: white; font-size: 0.75rem;">n/a</td><td style="padding: 0.75rem 0.5rem; color: white; font-size: 0.75rem;">n/a</td><td style="padding: 0.75rem 0.5rem; color: white; font-size: 0.75rem;">R$ 0,30</td><td style="padding: 0.75rem 0.5rem; color: white; font-size: 0.75rem;">98.3%</td></tr><tr style="border-top: 1px solid #4B5563;"><td style="padding: 0.75rem 0.5rem; color: white; font-weight: bold; font-size: 0.75rem;">TOTAL</td><td style="padding: 0.75rem 0.5rem; color: white; font-weight: bold; font-size: 0.75rem;">R$ 23.805,30</td><td style="padding: 0.75rem 0.5rem; color: white; font-weight: bold; font-size: 0.75rem;">79.351</td><td style="padding: 0.75rem 0.5rem; color: white; font-weight: bold; font-size: 0.75rem;">n/a</td><td style="padding: 0.75rem 0.5rem; color: white; font-weight: bold; font-size: 0.75rem;">n/a</td><td style="padding: 0.75rem 0.5rem; color: white; font-weight: bold; font-size: 0.75rem;">R$ 0,30</td><td style="padding: 0.75rem 0.5rem; color: white; font-weight: bold; font-size: 0.75rem;">98.3%</td></tr></tbody>
</table>
</div>
</div>
</div>
<!-- Tab Insights -->
<div class="tab-content hidden" id="content-insights">
<div class="card" style="padding: 1.25rem; margin-bottom: 1rem;">
<h3 style="font-size: 1rem; font-weight: bold; color: white; margin-bottom: 1rem;">🎯 INSIGHTS DE PERFORMANCE</h3>
<div style="background: rgba(16, 185, 129, 0.1); border: 1px solid #10B981; border-radius: 8px; padding: 1rem; margin-bottom: 1rem;">
<div style="display: flex; align-items: center; margin-bottom: 0.5rem;">
<span style="color: #10B981; font-size: 1rem; margin-right: 0.5rem;">✅</span>
<span style="color: #10B981; font-weight: bold; font-size: 0.875rem;">Netflix: VTR consistente</span>
</div>
<p style="color: white; font-size: 0.75rem; line-height: 1.4;">A campanha apresenta VTR de 98.3% (completos sobre inícios), indicando excelente retenção.</p>
</div>
<div style="background: rgba(59, 130, 246, 0.1); border: 1px solid #3B82F6; border-radius: 8px; padding: 1rem; margin-bottom: 1rem;">
<div style="display: flex; align-items: center; margin-bottom: 0.5rem;">
<span style="color: #3B82F6; font-size: 1rem; margin-right: 0.5rem;">📊</span>
<span style="color: #3B82F6; font-weight: bold; font-size: 0.875rem;">Entrega acumulada</span>
</div>
<p style="color: white; font-size: 0.75rem; line-height: 1.4;">Já foram entregues 79.351 Video Completions, equivalentes a 95.2% do contratado (meta: 83.334).</p>
</div>
<div style="background: rgba(139, 92, 246, 0.1); border: 1px solid #8B5CF6; border-radius: 8px; padding: 1rem;">
<div style="display: flex; align-items: center; margin-bottom: 0.5rem;">
<span style="color: #8B5CF6; font-size: 1rem; margin-right: 0.5rem;">💸</span>
<span style="color: #8B5CF6; font-weight: bold; font-size: 0.875rem;">Eficiência de investimento</span>
</div>
<p style="color: white; font-size: 0.75rem; line-height: 1.4;">Com R$ 23.805,30 investidos (198.4% do orçamento contratado), o CPV está em R$ 0,30 (contratado R$ 0,14).</p>
</div>
</div>
<div class="card" style="padding: 1.25rem;">
<h3 style="font-size: 1rem; font-weight: bold; color: white; margin-bottom: 1rem;">📈 RECOMENDAÇÕES ESTRATÉGICAS</h3>
<div style="background: rgba(245, 158, 11, 0.1); border: 1px solid #F59E0B; border-radius: 8px; padding: 1rem; margin-bottom: 1rem;">
<div style="display: flex; align-items: center; margin-bottom: 0.5rem;">
<span style="color: #F59E0B; font-size: 1rem; margin-right: 0.5rem;">⚡</span>
<span style="color: #F59E0B; font-weight: bold; font-size: 0.875rem;">Ajuste gradual de budget</span>
</div>
<p style="color: white; font-size: 0.75rem; line-height: 1.4;">
        Considerar <strong>incremento controlado</strong> de verba para acelerar a entrega dos últimos 21% da meta, mantendo o CPV próximo de <strong>R$ 0,30</strong>.
      </p>
</div>
<div style="background: rgba(34, 197, 94, 0.1); border: 1px solid #22C55E; border-radius: 8px; padding: 1rem; margin-bottom: 1rem;">
<div style="display: flex; align-items: center; margin-bottom: 0.5rem;">
<span style="color: #22C55E; font-size: 1rem; margin-right: 0.5rem;">🎯</span>
<span style="color: #22C55E; font-weight: bold; font-size: 0.875rem;">Foco no canal de maior retenção</span>
</div>
<p style="color: white; font-size: 0.75rem; line-height: 1.4;">
        Priorizar a <strong>Netflix</strong> para manter alta retenção e consistência de entregas de <em>Video Completion</em> no topo do funil.
      </p>
</div>
<div style="background: rgba(168, 85, 247, 0.1); border: 1px solid #A855F7; border-radius: 8px; padding: 1rem;">
<div style="display: flex; align-items: center; margin-bottom: 0.5rem;">
<span style="color: #A855F7; font-size: 1rem; margin-right: 0.5rem;">📱</span>
<span style="color: #A855F7; font-weight: bold; font-size: 0.875rem;">Próximos passos</span>
</div>
<p style="color: white; font-size: 0.75rem; line-height: 1.4;">A campanha apresenta VTR de 98.3% (completos sobre inícios), indicando excelente retenção.</p>
</div>
</div>
</div>
<!-- Tab Daily -->
<div class="tab-content hidden" id="content-daily">
<div class="card" style="padding:1.25rem;"><h3 style="font-size:1rem; font-weight:bold; color:white; margin-bottom:1rem;">📊 DADOS DIÁRIOS POR MÊS</h3></div>

<div class="card" style="padding:1.25rem; margin-bottom:1rem;">
  <h3 style="font-size:1rem; font-weight:bold; color:white; margin-bottom:1rem;">📊 Agosto</h3>
  <div class="table-responsive">
    <table style="width:100%; border-collapse:collapse;">
      <thead>
        <tr style="border-bottom:1px solid #374151;">
          <th style="text-align:left; padding:0.75rem 0.5rem; color:#9CA3AF; font-size:0.75rem;">DATA</th>
          <th style="text-align:left; padding:0.75rem 0.5rem; color:#9CA3AF; font-size:0.75rem;">25%</th>
          <th style="text-align:left; padding:0.75rem 0.5rem; color:#9CA3AF; font-size:0.75rem;">50%</th>
          <th style="text-align:left; padding:0.75rem 0.5rem; color:#9CA3AF; font-size:0.75rem;">75%</th>
          <th style="text-align:left; padding:0.75rem 0.5rem; color:#9CA3AF; font-size:0.75rem;">100%</th>
          <th style="text-align:left; padding:0.75rem 0.5rem; color:#9CA3AF; font-size:0.75rem;">INÍCIOS DE VÍDEO</th>
          <th style="text-align:left; padding:0.75rem 0.5rem; color:#9CA3AF; font-size:0.75rem;">INVESTIMENTO</th>
        </tr>
      </thead>
      <tbody style="font-size:0.75rem;"><tr><td style="padding:0.75rem 0.5rem; color:white; font-size:0.75rem;">15/08</td><td style="padding:0.75rem 0.5rem; color:white; font-size:0.75rem;">1.929</td><td style="padding:0.75rem 0.5rem; color:white; font-size:0.75rem;">1.889</td><td style="padding:0.75rem 0.5rem; color:white; font-size:0.75rem;">1.856</td><td style="padding:0.75rem 0.5rem; color:white; font-size:0.75rem;">1.834</td><td style="padding:0.75rem 0.5rem; color:white; font-size:0.75rem;">1.932</td><td style="padding:0.75rem 0.5rem; color:white; font-size:0.75rem;">R$ 550,20</td></tr><tr><td style="padding:0.75rem 0.5rem; color:white; font-size:0.75rem;">16/08</td><td style="padding:0.75rem 0.5rem; color:white; font-size:0.75rem;">1.431</td><td style="padding:0.75rem 0.5rem; color:white; font-size:0.75rem;">1.428</td><td style="padding:0.75rem 0.5rem; color:white; font-size:0.75rem;">1.419</td><td style="padding:0.75rem 0.5rem; color:white; font-size:0.75rem;">1.401</td><td style="padding:0.75rem 0.5rem; color:white; font-size:0.75rem;">1.453</td><td style="padding:0.75rem 0.5rem; color:white; font-size:0.75rem;">R$ 420,30</td></tr><tr><td style="padding:0.75rem 0.5rem; color:white; font-size:0.75rem;">17/08</td><td style="padding:0.75rem 0.5rem; color:white; font-size:0.75rem;">799</td><td style="padding:0.75rem 0.5rem; color:white; font-size:0.75rem;">798</td><td style="padding:0.75rem 0.5rem; color:white; font-size:0.75rem;">767</td><td style="padding:0.75rem 0.5rem; color:white; font-size:0.75rem;">754</td><td style="padding:0.75rem 0.5rem; color:white; font-size:0.75rem;">801</td><td style="padding:0.75rem 0.5rem; color:white; font-size:0.75rem;">R$ 226,20</td></tr><tr><td style="padding:0.75rem 0.5rem; color:white; font-size:0.75rem;">18/08</td><td style="padding:0.75rem 0.5rem; color:white; font-size:0.75rem;">562</td><td style="padding:0.75rem 0.5rem; color:white; font-size:0.75rem;">560</td><td style="padding:0.75rem 0.5rem; color:white; font-size:0.75rem;">559</td><td style="padding:0.75rem 0.5rem; color:white; font-size:0.75rem;">551</td><td style="padding:0.75rem 0.5rem; color:white; font-size:0.75rem;">564</td><td style="padding:0.75rem 0.5rem; color:white; font-size:0.75rem;">R$ 165,30</td></tr><tr><td style="padding:0.75rem 0.5rem; color:white; font-size:0.75rem;">19/08</td><td style="padding:0.75rem 0.5rem; color:white; font-size:0.75rem;">371</td><td style="padding:0.75rem 0.5rem; color:white; font-size:0.75rem;">367</td><td style="padding:0.75rem 0.5rem; color:white; font-size:0.75rem;">365</td><td style="padding:0.75rem 0.5rem; color:white; font-size:0.75rem;">359</td><td style="padding:0.75rem 0.5rem; color:white; font-size:0.75rem;">389</td><td style="padding:0.75rem 0.5rem; color:white; font-size:0.75rem;">R$ 107,70</td></tr><tr><td style="padding:0.75rem 0.5rem; color:white; font-size:0.75rem;">20/08</td><td style="padding:0.75rem 0.5rem; color:white; font-size:0.75rem;">1.089</td><td style="padding:0.75rem 0.5rem; color:white; font-size:0.75rem;">1.087</td><td style="padding:0.75rem 0.5rem; color:white; font-size:0.75rem;">1.085</td><td style="padding:0.75rem 0.5rem; color:white; font-size:0.75rem;">1.079</td><td style="padding:0.75rem 0.5rem; color:white; font-size:0.75rem;">1.091</td><td style="padding:0.75rem 0.5rem; color:white; font-size:0.75rem;">R$ 323,70</td></tr><tr><td style="padding:0.75rem 0.5rem; color:white; font-size:0.75rem;">21/08</td><td style="padding:0.75rem 0.5rem; color:white; font-size:0.75rem;">1.651</td><td style="padding:0.75rem 0.5rem; color:white; font-size:0.75rem;">1.649</td><td style="padding:0.75rem 0.5rem; color:white; font-size:0.75rem;">1.638</td><td style="padding:0.75rem 0.5rem; color:white; font-size:0.75rem;">1.629</td><td style="padding:0.75rem 0.5rem; color:white; font-size:0.75rem;">1.664</td><td style="padding:0.75rem 0.5rem; color:white; font-size:0.75rem;">R$ 488,70</td></tr><tr><td style="padding:0.75rem 0.5rem; color:white; font-size:0.75rem;">23/08</td><td style="padding:0.75rem 0.5rem; color:white; font-size:0.75rem;">4.758</td><td style="padding:0.75rem 0.5rem; color:white; font-size:0.75rem;">4.749</td><td style="padding:0.75rem 0.5rem; color:white; font-size:0.75rem;">4.732</td><td style="padding:0.75rem 0.5rem; color:white; font-size:0.75rem;">4.728</td><td style="padding:0.75rem 0.5rem; color:white; font-size:0.75rem;">4.761</td><td style="padding:0.75rem 0.5rem; color:white; font-size:0.75rem;">R$ 1.418,40</td></tr><tr><td style="padding:0.75rem 0.5rem; color:white; font-size:0.75rem;">24/08</td><td style="padding:0.75rem 0.5rem; color:white; font-size:0.75rem;">4.750</td><td style="padding:0.75rem 0.5rem; color:white; font-size:0.75rem;">4.749</td><td style="padding:0.75rem 0.5rem; color:white; font-size:0.75rem;">4.748</td><td style="padding:0.75rem 0.5rem; color:white; font-size:0.75rem;">4.699</td><td style="padding:0.75rem 0.5rem; color:white; font-size:0.75rem;">4.781</td><td style="padding:0.75rem 0.5rem; color:white; font-size:0.75rem;">R$ 1.409,70</td></tr><tr><td style="padding:0.75rem 0.5rem; color:white; font-size:0.75rem;">25/08</td><td style="padding:0.75rem 0.5rem; color:white; font-size:0.75rem;">5.108</td><td style="padding:0.75rem 0.5rem; color:white; font-size:0.75rem;">5.088</td><td style="padding:0.75rem 0.5rem; color:white; font-size:0.75rem;">4.991</td><td style="padding:0.75rem 0.5rem; color:white; font-size:0.75rem;">4.566</td><td style="padding:0.75rem 0.5rem; color:white; font-size:0.75rem;">5.233</td><td style="padding:0.75rem 0.5rem; color:white; font-size:0.75rem;">R$ 1.369,80</td></tr><tr><td style="padding:0.75rem 0.5rem; color:white; font-size:0.75rem;">26/08</td><td style="padding:0.75rem 0.5rem; color:white; font-size:0.75rem;">6.721</td><td style="padding:0.75rem 0.5rem; color:white; font-size:0.75rem;">6.719</td><td style="padding:0.75rem 0.5rem; color:white; font-size:0.75rem;">6.718</td><td style="padding:0.75rem 0.5rem; color:white; font-size:0.75rem;">6.716</td><td style="padding:0.75rem 0.5rem; color:white; font-size:0.75rem;">6.724</td><td style="padding:0.75rem 0.5rem; color:white; font-size:0.75rem;">R$ 2.014,80</td></tr><tr><td style="padding:0.75rem 0.5rem; color:white; font-size:0.75rem;">27/08</td><td style="padding:0.75rem 0.5rem; color:white; font-size:0.75rem;">9.870</td><td style="padding:0.75rem 0.5rem; color:white; font-size:0.75rem;">9.867</td><td style="padding:0.75rem 0.5rem; color:white; font-size:0.75rem;">9.859</td><td style="padding:0.75rem 0.5rem; color:white; font-size:0.75rem;">9.847</td><td style="padding:0.75rem 0.5rem; color:white; font-size:0.75rem;">9.871</td><td style="padding:0.75rem 0.5rem; color:white; font-size:0.75rem;">R$ 2.954,10</td></tr><tr><td style="padding:0.75rem 0.5rem; color:white; font-size:0.75rem;">28/08</td><td style="padding:0.75rem 0.5rem; color:white; font-size:0.75rem;">8.721</td><td style="padding:0.75rem 0.5rem; color:white; font-size:0.75rem;">8.719</td><td style="padding:0.75rem 0.5rem; color:white; font-size:0.75rem;">8.718</td><td style="padding:0.75rem 0.5rem; color:white; font-size:0.75rem;">8.731</td><td style="padding:0.75rem 0.5rem; color:white; font-size:0.75rem;">8.746</td><td style="padding:0.75rem 0.5rem; color:white; font-size:0.75rem;">R$ 2.619,30</td></tr><tr><td style="padding:0.75rem 0.5rem; color:white; font-size:0.75rem;">29/08</td><td style="padding:0.75rem 0.5rem; color:white; font-size:0.75rem;">7.810</td><td style="padding:0.75rem 0.5rem; color:white; font-size:0.75rem;">7.809</td><td style="padding:0.75rem 0.5rem; color:white; font-size:0.75rem;">7.805</td><td style="padding:0.75rem 0.5rem; color:white; font-size:0.75rem;">7.804</td><td style="padding:0.75rem 0.5rem; color:white; font-size:0.75rem;">7.812</td><td style="padding:0.75rem 0.5rem; color:white; font-size:0.75rem;">R$ 2.341,20</td></tr><tr><td style="padding:0.75rem 0.5rem; color:white; font-size:0.75rem;">30/08</td><td style="padding:0.75rem 0.5rem; color:white; font-size:0.75rem;">8.781</td><td style="padding:0.75rem 0.5rem; color:white; font-size:0.75rem;">8.718</td><td style="padding:0.75rem 0.5rem; color:white; font-size:0.75rem;">8.707</td><td style="padding:0.75rem 0.5rem; color:white; font-size:0.75rem;">8.701</td><td style="padding:0.75rem 0.5rem; color:white; font-size:0.75rem;">8.791</td><td style="padding:0.75rem 0.5rem; color:white; font-size:0.75rem;">R$ 2.610,30</td></tr><tr><td style="padding:0.75rem 0.5rem; color:white; font-size:0.75rem;">31/08</td><td style="padding:0.75rem 0.5rem; color:white; font-size:0.75rem;">6.660</td><td style="padding:0.75rem 0.5rem; color:white; font-size:0.75rem;">6.658</td><td style="padding:0.75rem 0.5rem; color:white; font-size:0.75rem;">6.649</td><td style="padding:0.75rem 0.5rem; color:white; font-size:0.75rem;">6.618</td><td style="padding:0.75rem 0.5rem; color:white; font-size:0.75rem;">6.663</td><td style="padding:0.75rem 0.5rem; color:white; font-size:0.75rem;">R$ 1.985,40</td></tr></tbody>
    </table>
  </div>
</div>

<div class="card" style="padding:1.25rem; margin-bottom:1rem;">
  <h3 style="font-size:1rem; font-weight:bold; color:white; margin-bottom:1rem;">📊 Setembro</h3>
  <div class="table-responsive">
    <table style="width:100%; border-collapse:collapse;">
      <thead>
        <tr style="border-bottom:1px solid #374151;">
          <th style="text-align:left; padding:0.75rem 0.5rem; color:#9CA3AF; font-size:0.75rem;">DATA</th>
          <th style="text-align:left; padding:0.75rem 0.5rem; color:#9CA3AF; font-size:0.75rem;">25%</th>
          <th style="text-align:left; padding:0.75rem 0.5rem; color:#9CA3AF; font-size:0.75rem;">50%</th>
          <th style="text-align:left; padding:0.75rem 0.5rem; color:#9CA3AF; font-size:0.75rem;">75%</th>
          <th style="text-align:left; padding:0.75rem 0.5rem; color:#9CA3AF; font-size:0.75rem;">100%</th>
          <th style="text-align:left; padding:0.75rem 0.5rem; color:#9CA3AF; font-size:0.75rem;">INÍCIOS DE VÍDEO</th>
          <th style="text-align:left; padding:0.75rem 0.5rem; color:#9CA3AF; font-size:0.75rem;">INVESTIMENTO</th>
        </tr>
      </thead>
      <tbody style="font-size:0.75rem;"><tr><td style="padding:0.75rem 0.5rem; color:white; font-size:0.75rem;">01/09</td><td style="padding:0.75rem 0.5rem; color:white; font-size:0.75rem;">5.029</td><td style="padding:0.75rem 0.5rem; color:white; font-size:0.75rem;">5.018</td><td style="padding:0.75rem 0.5rem; color:white; font-size:0.75rem;">5.017</td><td style="padding:0.75rem 0.5rem; color:white; font-size:0.75rem;">5.016</td><td style="padding:0.75rem 0.5rem; color:white; font-size:0.75rem;">5.031</td><td style="padding:0.75rem 0.5rem; color:white; font-size:0.75rem;">R$ 1.504,80</td></tr><tr><td style="padding:0.75rem 0.5rem; color:white; font-size:0.75rem;">02/09</td><td style="padding:0.75rem 0.5rem; color:white; font-size:0.75rem;">4.379</td><td style="padding:0.75rem 0.5rem; color:white; font-size:0.75rem;">4.321</td><td style="padding:0.75rem 0.5rem; color:white; font-size:0.75rem;">4.319</td><td style="padding:0.75rem 0.5rem; color:white; font-size:0.75rem;">4.318</td><td style="padding:0.75rem 0.5rem; color:white; font-size:0.75rem;">4.381</td><td style="padding:0.75rem 0.5rem; color:white; font-size:0.75rem;">R$ 1.295,40</td></tr></tbody>
    </table>
  </div>
</div>
</div>
<!-- Tab Planning -->
<div class="tab-content hidden" id="content-planning">
  <div class="planning-grid">
    <!-- Canais de Mídia -->
    <div class="card" style="padding: 1.25rem;">
      <h3 style="font-size: 1rem; font-weight: bold; color: white; margin-bottom: 1rem;">📺 CANAIS DE MÍDIA</h3>
      <div style="background: rgba(251, 146, 60, 0.2); padding: 1rem; border-radius: 8px; border: 1px solid #FB923C;">
        <div style="font-weight: bold; color: #FB923C; font-size: 0.875rem; margin-bottom: 0.25rem;">Netflix</div>
        <div style="color: white; font-size: 0.75rem;">Plataforma premium com audiência qualificada</div>
      </div>
    </div>

    <!-- Estratégia Principal -->
    <div class="card" style="padding: 1.25rem;">
      <h3 style="font-size: 1rem; font-weight: bold; color: white; margin-bottom: 1rem;">🎯 ESTRATÉGIA PRINCIPAL</h3>
      <div style="background: rgba(75, 85, 99, 0.2); padding: 1rem; border-radius: 8px; border: 1px solid #6B7280;">
        <div style="color: white; font-size: 0.75rem; line-height: 1.6;">
          <strong>Plataforma:</strong> Netflix<br/>
          <strong>Formato:</strong> Vídeo 10"&nbsp;&nbsp;|&nbsp;&nbsp;<strong>Local:</strong> TV, Desktop e Mobile<br/>
          <strong>Objetivo:</strong> Alcance<br/>
          <strong>Segmentação:</strong> Região Metropolitana de Belo Horizonte
        </div>
      </div>
    </div>

    <!-- Cidades de Entrega -->
    <div class="card" style="padding: 1.25rem; grid-column: span 2;">
      <h3 style="font-size: 1rem; font-weight: bold; color: white; margin-bottom: 1rem;">🌍 CIDADES DE ENTREGA</h3>
      <div class="audience-grid">
        <div class="audience-item bg-gray-600">Baldim</div>
        <div class="audience-item bg-gray-600">Belo Horizonte</div>
        <div class="audience-item bg-gray-600">Betim</div>
        <div class="audience-item bg-gray-600">Brumadinho</div>
        <div class="audience-item bg-gray-600">Caeté</div>
        <div class="audience-item bg-gray-600">Capim Branco</div>
        <div class="audience-item bg-gray-600">Confins</div>
        <div class="audience-item bg-gray-600">Contagem</div>
        <div class="audience-item bg-gray-600">Esmeraldas</div>
        <div class="audience-item bg-gray-600">Florestal</div>
        <div class="audience-item bg-gray-600">Ibirité</div>
        <div class="audience-item bg-gray-600">Igarapé</div>
        <div class="audience-item bg-gray-600">Itaguara</div>
        <div class="audience-item bg-gray-600">Itatiaiuçu</div>
        <div class="audience-item bg-gray-600">Jaboticatubas</div>
        <div class="audience-item bg-gray-600">Juatuba</div>
        <div class="audience-item bg-gray-600">Lagoa Santa</div>
        <div class="audience-item bg-gray-600">Mário Campos</div>
        <div class="audience-item bg-gray-600">Mateus Leme</div>
        <div class="audience-item bg-gray-600">Matozinhos</div>
        <div class="audience-item bg-gray-600">Nova Lima</div>
        <div class="audience-item bg-gray-600">Nova União</div>
        <div class="audience-item bg-gray-600">Pedro Leopoldo</div>
        <div class="audience-item bg-gray-600">Raposos</div>
        <div class="audience-item bg-gray-600">Ribeirão das Neves</div>
        <div class="audience-item bg-gray-600">Rio Acima</div>
        <div class="audience-item bg-gray-600">Rio Manso</div>
        <div class="audience-item bg-gray-600">Sabará</div>
        <div class="audience-item bg-gray-600">Santa Luzia</div>
        <div class="audience-item bg-gray-600">São Joaquim de Bicas</div>
        <div class="audience-item bg-gray-600">São José da Lapa</div>
        <div class="audience-item bg-gray-600">Sarzedo</div>
        <div class="audience-item bg-gray-600">Taquaraçu de Minas</div>
        <div class="audience-item bg-gray-600">Vespasiano</div>
      </div>
    </div>
  </div>
</div>

</div>
<script>
        function showTab(tabName, btn) {
            // Hide all tab contents
            const contents = document.querySelectorAll('.tab-content');
            contents.forEach(content => content.classList.add('hidden'));
            
            // Remove active from all buttons
            document.querySelectorAll('.tab-button').forEach(b => b.classList.remove('active'));
            
            // Show selected tab content
            document.getElementById('content-' + tabName).classList.remove('hidden');
            
            // Add active class to clicked button
            if (btn) { btn.classList.add('active'); }
            
            // Initialize charts if daily tab is selected
            if (tabName === 'daily') {
                setTimeout(() => {
                    initDailyCharts();
                }, 100);
            }
            
            // Initialize completion chart if overview tab is selected
            if (tabName === 'overview') {
                setTimeout(() => {
                    initCompletionChart();
                }, 100);
            }
        }

        function initCompletionChart() {
            const table = document.getElementById('strategyTable');
            const ctx = document.getElementById('completionChart');
            if (!table || !ctx) return;

            const rows = table.querySelectorAll('tbody tr');
            const labels = [];
            const data = [];
            const colors = ['#8B5CF6', '#FB923C'];

            rows.forEach(row => {
                const cells = row.querySelectorAll('td');
                if (cells.length >= 3) {
                    const name = cells[0].textContent.trim();
                    if (name.toLowerCase() === 'total') return;
                    const formattedName = name.replace('Vídeo', 'Video');
                    const value = parseFloat(cells[2].textContent.trim().split('.').join('').replace(',', '.')) || 0;
                    labels.push(formattedName);
                    data.push(value);
                }
            });

            new Chart(ctx, {
                type: 'doughnut',
                data: {
                    labels: labels,
                    datasets: [{
                        data: data,
                        backgroundColor: colors.slice(0, data.length),
                        borderWidth: 0
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            position: 'bottom',
                            labels: {
                                color: 'white',
                                font: {
                                    size: 10
                                }
                            }
                        },
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    const label = context.label || '';
                                    const value = context.parsed;
                                    return `${label}: ${value.toLocaleString('pt-BR')}`;
                                }
                            }
                        }
                    }
                }
            });
        }

        function initDailyCharts() {
            // Build datasets from detailed daily table
            const table = document.getElementById('dailyDataTable');
            const rows = table ? table.querySelectorAll('tbody tr') : [];
            const dateMap = new Map();
            const programaticoDates = new Set();
            const netflixDates = new Set();

            rows.forEach(row => {
                const cells = row.querySelectorAll('td');
                if (cells.length >= 6) {
                    const date = cells[0].textContent.trim();
                    const strategy = cells[1].textContent.trim().toLowerCase();
                    const completion = parseFloat(
                        cells[2].textContent.trim().split('.').join('').replace(',', '.')
                    ) || 0;
                    const clicks = parseFloat(
                        cells[3].textContent.trim().split('.').join('').replace(',', '.')
                    ) || 0;
                    const invest = parseFloat(
                        cells[5].textContent.replace('R$', '').trim().split('.').join('').replace(',', '.')
                    ) || 0;

                    if (!dateMap.has(date)) {
                        dateMap.set(date, {
                            programatico: 0,
                            netflix: 0,
                            programaticoInv: 0,
                            netflixInv: 0,
                            programaticoClicks: 0,
                            netflixClicks: 0
                        });
                    }
                    const entry = dateMap.get(date);
                    if (strategy.includes('program')) {
                        entry.programatico += completion;
                        entry.programaticoInv += invest;
                        entry.programaticoClicks += clicks;
                        programaticoDates.add(date);
                    } else if (strategy.includes('netflix')) {
                        entry.netflix += completion;
                        entry.netflixInv += invest;
                        entry.netflixClicks += clicks;
                        netflixDates.add(date);
                    }
                }
            });

            const labels = Array.from(dateMap.keys());
            const programaticoData = labels.map(d => dateMap.get(d).programatico);
            const netflixData = labels.map(d => dateMap.get(d).netflix);
            const programaticoInvestment = labels.map(d => dateMap.get(d).programaticoInv);
            const netflixInvestment = labels.map(d => dateMap.get(d).netflixInv);
            const programaticoClicks = labels.map(d => dateMap.get(d).programaticoClicks);
            const netflixClicks = labels.map(d => dateMap.get(d).netflixClicks);

            // Calculate averages for cards
            const avgProgramaticoCompletion = programaticoDates.size
                ? programaticoData.reduce((a, b) => a + b, 0) / programaticoDates.size
                : 0;
            const avgNetflixCompletion = netflixDates.size
                ? netflixData.reduce((a, b) => a + b, 0) / netflixDates.size
                : 0;
            const avgProgramaticoInvestment = programaticoDates.size
                ? programaticoInvestment.reduce((a, b) => a + b, 0) / programaticoDates.size
                : 0;
            const avgNetflixInvestment = netflixDates.size
                ? netflixInvestment.reduce((a, b) => a + b, 0) / netflixDates.size
                : 0;
            const avgProgramaticoClicks = programaticoDates.size
                ? programaticoClicks.reduce((a, b) => a + b, 0) / programaticoDates.size
                : 0;
            const avgNetflixClicks = netflixDates.size
                ? netflixClicks.reduce((a, b) => a + b, 0) / netflixDates.size
                : 0;

            const formatNumber = n => n.toLocaleString('pt-BR', { minimumFractionDigits: 0, maximumFractionDigits: 0 });

            const programmaticCompletionEl = document.getElementById('avgProgrammaticCompletion');
            const programmaticInvestmentEl = document.getElementById('avgProgrammaticInvestment');
            const programmaticClicksEl = document.getElementById('avgProgrammaticClicks');
            const netflixCompletionEl = document.getElementById('avgNetflixCompletion');
            const netflixInvestmentEl = document.getElementById('avgNetflixInvestment');
            const netflixClicksEl = document.getElementById('avgNetflixClicks');

            if (programmaticCompletionEl)
                programmaticCompletionEl.textContent = `${formatNumber(avgProgramaticoCompletion)}/dia`;
            if (programmaticInvestmentEl)
                programmaticInvestmentEl.textContent = `R$ ${formatNumber(avgProgramaticoInvestment)}/dia`;
            if (programmaticClicksEl)
                programmaticClicksEl.textContent = `${formatNumber(avgProgramaticoClicks)}/dia`;
            if (netflixCompletionEl)
                netflixCompletionEl.textContent = `${formatNumber(avgNetflixCompletion)}/dia`;
            if (netflixInvestmentEl)
                netflixInvestmentEl.textContent = `R$ ${formatNumber(avgNetflixInvestment)}/dia`;
            if (netflixClicksEl)
                netflixClicksEl.textContent = `${formatNumber(avgNetflixClicks)}/dia`;

            // Daily delivery chart
            const dailyCtx = document.getElementById('dailyChart');
            if (dailyCtx) {
                new Chart(dailyCtx, {
                    type: 'line',
                    data: {
                        labels: labels,
                        datasets: [{
                            label: 'Programático',
                            data: programaticoData,
                            borderColor: '#8B5CF6',
                            backgroundColor: 'rgba(139, 92, 246, 0.1)',
                            tension: 0.4
                        }, {
                            label: 'Netflix',
                            data: netflixData,
                            borderColor: '#FB923C',
                            backgroundColor: 'rgba(251, 146, 60, 0.1)',
                            tension: 0.4
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        layout: {
                            padding: {
                                left: 10,
                                right: 10,
                                top: 10,
                                bottom: 10
                            }
                        },
                        plugins: {
                            legend: {
                                labels: {
                                    color: 'white',
                                    font: {
                                        size: 10
                                    }
                                }
                            }
                        },
                        scales: {
                            y: {
                                ticks: {
                                    color: 'white',
                                    font: {
                                        size: 9
                                    }
                                },
                                grid: {
                                    color: 'rgba(255, 255, 255, 0.1)'
                                }
                            },
                            x: {
                                ticks: {
                                    color: 'white',
                                    font: {
                                        size: 9
                                    }
                                },
                                grid: {
                                    color: 'rgba(255, 255, 255, 0.1)'
                                }
                            }
                        }
                    }
                });
            }

            // Investment daily chart
            const investmentCtx = document.getElementById('investmentDailyChart');
            if (investmentCtx) {
                new Chart(investmentCtx, {
                    type: 'bar',
                    data: {
                        labels: labels,
                        datasets: [{
                            label: 'Programático',
                            data: programaticoInvestment,
                            backgroundColor: '#8B5CF6'
                        }, {
                            label: 'Netflix',
                            data: netflixInvestment,
                            backgroundColor: '#FB923C'
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        layout: {
                            padding: {
                                left: 10,
                                right: 10,
                                top: 10,
                                bottom: 10
                            }
                        },
                        plugins: {
                            legend: {
                                labels: {
                                    color: 'white',
                                    font: {
                                        size: 10
                                    }
                                }
                            }
                        },
                        scales: {
                            y: {
                                ticks: {
                                    color: 'white',
                                    font: {
                                        size: 9
                                    }
                                },
                                grid: {
                                    color: 'rgba(255, 255, 255, 0.1)'
                                }
                            },
                            x: {
                                ticks: {
                                    color: 'white',
                                    font: {
                                        size: 9
                                    }
                                },
                                grid: {
                                    color: 'rgba(255, 255, 255, 0.1)'
                                }
                            }
                        }
                    }
                });
            }
        }

        // Initialize overview chart on page load
        document.addEventListener('DOMContentLoaded', function() {
            initCompletionChart();
        });
    </script>
</body>
</html>
